<?php 
ob_start();
require_once '../App/partials/Header.inc'; 
$Gate = require_once  $ROOT_DIR . '/Auth/Gates/PRODUCTION_DEPT';
if(!in_array( $Gate['VIEW_PRODUCTION_DASHBOARD'] , $_SESSION['ACCESS_LIST']  )) {
  header("Location:../index.php?msg=You are not authorized to access this page!" );
}
require_once '../App/partials/Menu/MarketingMenu.inc'; ?>

<?php 
    $C5P = $Controller->QueryData("SELECT SUM(`ProductQty1`) as C5P_Production  FROM `machineproduction` WHERE MachineName = 'Carrogation Plant' 
    AND `PrDate` BETWEEN '2019-12-15' AND '2023-01-01'" , []); 
    $C5P_machine = $C5P->fetch_assoc(); 

    /*
    |--------------------------------------------------------------------------
    | Query for header cards 
    |--------------------------------------------------------------------------
    */

    $DataRows=$Controller->QueryData("SELECT COUNT(carton.CTNId) AS all_jobs  
    FROM carton 
    INNER JOIN ppcustomer ON ppcustomer.CustId=carton.CustId1 
    INNER JOIN designinfo ON designinfo.CaId=carton.CTNId 
    WHERE CTNStatus='Production' OR CTNStatus='Production Pending' OR CTNStatus='Production Process' OR CTNStatus='Urgent'",[]);
    $ALL_JOBS = $DataRows->fetch_assoc()['all_jobs'];

    $NEW_JOBS = $Controller->QueryData("SELECT COUNT(carton.CTNId) AS new_jobs  
    FROM carton 
    INNER JOIN ppcustomer ON ppcustomer.CustId=carton.CustId1 
    INNER JOIN designinfo ON designinfo.CaId=carton.CTNId 
    WHERE CTNStatus='Production' AND JobNo != 'NULL'",[])->fetch_assoc()['new_jobs'];

    $PENDED_JOBS = $Controller->QueryData("SELECT COUNT(carton.CTNId) AS pended_jobs  
    FROM carton 
    INNER JOIN ppcustomer ON ppcustomer.CustId=carton.CustId1 
    INNER JOIN designinfo ON designinfo.CaId=carton.CTNId 
    WHERE CTNStatus='Production Pending' AND JobNo != 'NULL'",[])->fetch_assoc()['pended_jobs'];

    $URGENT_JOBS = $Controller->QueryData("SELECT COUNT(carton.CTNId) AS urgent_jobs  
    FROM carton 
    INNER JOIN ppcustomer ON ppcustomer.CustId=carton.CustId1 
    INNER JOIN designinfo ON designinfo.CaId=carton.CTNId 
    WHERE CTNStatus='Urgent' AND JobNo != 'NULL'",[])->fetch_assoc()['urgent_jobs'];

    $UNDER_PROCESS = $Controller->QueryData("SELECT COUNT(carton.CTNId) AS up
    FROM carton  
    INNER JOIN  production_cycle on production_cycle.CTNId = carton.CTNId 
    INNER JOIN  used_machine on production_cycle.cycle_id = used_machine.cycle_id 
    INNER JOIN  machine on used_machine.machine_id = machine.machine_id 
    INNER JOIN  used_paper on carton.CTNId = used_paper.carton_id 
    WHERE cycle_status = 'Task List' AND used_machine.status = 'My_Job'",[])->fetch_assoc()['up'];

    $TASK_LIST = $Controller->QueryData("SELECT COUNT(carton.CTNId) AS tl 
    FROM carton  
    INNER JOIN  production_cycle on production_cycle.CTNId = carton.CTNId 
    INNER JOIN  used_machine on production_cycle.cycle_id = used_machine.cycle_id 
    INNER JOIN  machine on used_machine.machine_id = machine.machine_id 
    INNER JOIN  used_paper on carton.CTNId = used_paper.carton_id 
    WHERE cycle_status = 'Task List' AND ( used_machine.status = 'Incomplete' OR used_machine.status = 'Proccessed')",[])->fetch_assoc()['tl'];

    $EMPLOYEE_ID = $Controller->QueryData("SELECT  COUNT(EId) AS eid FROM employeet 
    WHERE EDepartment='Production' AND EJob='Machine Opreator' ",[])->fetch_assoc()['eid'];

    $FINISH_LIST = $Controller->QueryData("SELECT COUNT(carton.CTNId) AS fl   
    FROM carton  
    INNER JOIN  ppcustomer on carton.CustId1 = ppcustomer.CustId 
    INNER JOIN  designinfo on designinfo.CaId = carton.CTNId 
    INNER JOIN  production_cycle on carton.CTNId = production_cycle.CTNId   
    WHERE cycle_status = 'Finish List'",[])->fetch_assoc()['fl'];
?>

<script src="../Public/Js/chart.js"></script>
<style>
    .NewJobs-bg { background-color:#FB7AFC;}
    .circle {
        width: 60px;
        height: 60px;
        line-height: 60px;
        border-radius: 50%;
        font-size: 20px;
        color: #fff;
        text-align: center;
        margin:0px; 
        display:table-cell;
        vertical-align: middle; 
    }
    .circle-jobs { background:#f2f7ff; }
    .circle-jup { background:#f2f7ff; color:#ffc107; }
    .circle-process { background:#f2f7ff; color:#FA05FF; }
    .circle-pended { background:#f2f7ff; color:#FF0000; }
    .circle-done { background:#f2f7ff; color:#198754; }
</style>

<div class="card m-3 shadow ">
    <div class="card-body ">
            <h4 style = "margin:0px; padding:0px;" >
                <svg width="50" height="42" viewBox="0 0 50 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M42.7242 37.8594C43.6572 37.8594 44.4163 37.1003 44.4163 36.1673C44.4163 35.2343 43.6572 34.4752 42.7242 34.4752C41.7912 34.4752 41.0322 35.2343 41.0322 36.1673C41.0322 37.1003 41.7912 37.8594 42.7242 37.8594Z" fill="#FF9900"/>
                    <path d="M38.0148 37.8594C38.9478 37.8594 39.7069 37.1003 39.7069 36.1673C39.7069 35.2343 38.9478 34.4752 38.0148 34.4752C37.0818 34.4752 36.3227 35.2343 36.3227 36.1673C36.3227 37.1003 37.082 37.8594 38.0148 37.8594Z" fill="#FF9900"/>
                    <path d="M28.0446 12.5817C27.467 13.1605 27.4673 14.1019 28.0454 14.6802C28.335 14.9696 28.715 15.1142 29.0953 15.1142C29.4754 15.1142 29.8556 14.9694 30.1451 14.6802C30.7232 14.1019 30.7236 13.1605 30.1451 12.5807C29.5658 12.0021 28.6242 12.0017 28.0446 12.5817Z" fill="#FF9900"/>
                    <path d="M27.6832 20.1328C27.6832 20.9512 28.3492 21.6172 29.1677 21.6172C29.986 21.6172 30.652 20.9512 30.652 20.1328C30.652 19.3143 29.986 18.6483 29.1677 18.6483C28.349 18.6483 27.6832 19.3143 27.6832 20.1328Z" fill="#FF9900"/>
                    <path d="M6.64966 15.6682C8.21717 15.6682 9.49225 14.3931 9.49225 12.8256C9.49225 11.2581 8.21717 9.98303 6.64966 9.98303C5.08215 9.98303 3.80707 11.2583 3.80707 12.8256C3.80707 14.393 5.08232 15.6682 6.64966 15.6682ZM6.64966 11.6751C7.284 11.6751 7.80017 12.1913 7.80017 12.8256C7.80017 13.46 7.284 13.9761 6.64966 13.9761C6.01532 13.9761 5.49916 13.46 5.49916 12.8256C5.49916 12.1913 6.01532 11.6751 6.64966 11.6751Z" fill="#FF9900"/>
                    <path d="M9.49225 18.8155C9.49225 17.248 8.21717 15.9729 6.64966 15.9729C5.08215 15.9729 3.80707 17.248 3.80707 18.8155C3.80707 20.383 5.08215 21.6581 6.64966 21.6581C8.21717 21.6581 9.49225 20.383 9.49225 18.8155ZM5.49916 18.8155C5.49916 18.1812 6.01532 17.665 6.64966 17.665C7.284 17.665 7.80017 18.1812 7.80017 18.8155C7.80017 19.4498 7.284 19.966 6.64966 19.966C6.01532 19.9662 5.49916 19.4498 5.49916 18.8155Z" fill="#FF9900"/>
                    <path d="M12.6396 9.98303C11.0721 9.98303 9.79697 11.2581 9.79697 12.8256C9.79697 14.3931 11.0721 15.6682 12.6396 15.6682C14.2071 15.6682 15.4822 14.3931 15.4822 12.8256C15.4822 11.2581 14.2071 9.98303 12.6396 9.98303ZM12.6396 13.9763C12.0052 13.9763 11.4891 13.4601 11.4891 12.8258C11.4891 12.1914 12.0052 11.6753 12.6396 11.6753C13.2739 11.6753 13.7901 12.1914 13.7901 12.8258C13.7902 13.46 13.2739 13.9763 12.6396 13.9763Z" fill="#FF9900"/>
                    <path d="M12.6396 15.9729C11.0721 15.9729 9.79697 17.248 9.79697 18.8155C9.79697 20.383 11.0721 21.6581 12.6396 21.6581C14.2071 21.6581 15.4822 20.383 15.4822 18.8155C15.4822 17.2482 14.2071 15.9729 12.6396 15.9729ZM12.6396 19.9662C12.0052 19.9662 11.4891 19.45 11.4891 18.8157C11.4891 18.1813 12.0052 17.6652 12.6396 17.6652C13.2739 17.6652 13.7901 18.1813 13.7901 18.8157C13.7902 19.4498 13.2739 19.9662 12.6396 19.9662Z" fill="#FF9900"/>
                    <path d="M50 12.4365C50 12.162 49.9109 11.8948 49.7461 11.6751L41.3705 0.507576C41.131 0.188047 40.7547 0 40.3554 0H34.7716C34.0705 0 33.5025 0.568014 33.5025 1.26902V2.583C32.1788 2.55657 30.8436 2.71364 29.5291 3.06583C25.8626 4.04832 22.7981 6.39983 20.9002 9.68704C20.1165 11.0444 19.587 12.4791 19.2892 13.9367V6.76818C19.2892 6.06717 18.7212 5.49916 18.0202 5.49916H16.4512C16.0805 2.40606 13.4423 0 10.2508 0H9.03838C5.84697 0 3.20875 2.40606 2.83805 5.49916H1.26902C0.568014 5.49916 0 6.06717 0 6.76818V40.3554C0 41.0564 0.568014 41.6244 1.26902 41.6244H48.731C49.432 41.6244 50 41.0564 50 40.3554V12.4365ZM36.0406 2.53805H39.7207L47.4618 12.8596V30.5133H36.0404V2.53805H36.0406ZM33.5025 17.4375C33.4126 17.4793 33.3131 17.504 33.2074 17.504C32.8152 17.504 32.4961 17.1848 32.4961 16.7926C32.4961 16.4003 32.8152 16.0813 33.2074 16.0813C33.313 16.0813 33.4125 16.1056 33.5025 16.147V17.4375ZM33.5025 13.5579C33.4054 13.5487 33.3071 13.5431 33.2074 13.5431C31.4157 13.5431 29.9579 15.0008 29.9579 16.7926C29.9579 18.5845 31.4157 20.0423 33.2074 20.0423C33.3071 20.0423 33.4054 20.0374 33.5025 20.0281V24.7611C32.0165 24.8195 30.5412 24.4613 29.2217 23.6995C27.3776 22.6348 26.0586 20.9158 25.5074 18.8591C24.9564 16.8024 25.2392 14.6542 26.3039 12.8103C27.3685 10.9662 29.0875 9.64731 31.1443 9.09613C31.831 8.91212 32.5279 8.82104 33.2205 8.82104C33.3146 8.82104 33.4086 8.82475 33.5025 8.82812V13.5579V13.5579ZM23.0983 10.9561C24.6574 8.25589 27.1744 6.32424 30.1862 5.51734C31.1919 5.24781 32.2123 5.11448 33.2264 5.11448C33.3187 5.11448 33.4104 5.1197 33.5025 5.12189V6.29091C32.4983 6.26313 31.4848 6.37694 30.4872 6.64411C27.7756 7.37071 25.5094 9.1096 24.1059 11.5407C22.7022 13.9719 22.3295 16.804 23.0559 19.5157C23.7825 22.2273 25.5214 24.4934 27.9525 25.897C29.5721 26.832 31.369 27.3096 33.1902 27.3096C33.2941 27.3096 33.3983 27.3067 33.5024 27.3035V28.4561C31.4217 28.513 29.3017 28.0163 27.3707 26.9015C21.7968 23.6835 19.8801 16.5303 23.0983 10.9561ZM26.1019 29.0998C27.4551 29.8811 28.8845 30.4121 30.3372 30.7106H19.2894V19.6145C20.0731 23.4685 22.4362 26.9833 26.1019 29.0998ZM9.03838 2.53805H10.2508C12.0397 2.53805 13.5369 3.81128 13.8837 5.49916H11.3219L11.8301 4.54242C12.0492 4.1298 11.8924 3.61751 11.4798 3.39832C11.0675 3.17946 10.5549 3.33586 10.3357 3.74865L9.40572 5.49916H5.40556C5.75236 3.81128 7.2495 2.53805 9.03838 2.53805ZM2.53805 8.03721H16.7512V30.7106H2.53805V8.03721ZM47.462 39.0862H2.53805V33.2487H47.462V39.0862V39.0862Z" fill="#FF9900"/>
                    <path d="M12.4365 25.1268H6.85286C6.15185 25.1268 5.58383 25.6948 5.58383 26.3959C5.58383 27.0969 6.15185 27.6649 6.85286 27.6649H12.4367C13.1377 27.6649 13.7057 27.0969 13.7057 26.3959C13.7057 25.6948 13.1375 25.1268 12.4365 25.1268Z" fill="#FF9900"/>
                </svg>
                Production Dashboard
            </h4>
    </div>
</div>

<?php if(isset($_GET['msg']) && !empty($_GET['msg']))  {
          echo' <div class="alert alert-danger alert-dismissible fade show m-3" role="alert">
                  <strong>Attention: </strong>'. $_GET['msg'] .' 
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>'; 
      }  
?>

<div class = "m-3">
    <div class="row ">
    <?php  if(in_array( $Gate['VIEW_PD_TASKLIST'] , $_SESSION['ACCESS_LIST']  )) { ?> 
        <div class="col-sm-6 col-md-3 col-lg-2 col-xl-2 col-xs-12">
            <a href="TaskList.php" style = "text-decoration:none;">
                <div class="card shadow-lg" style="border:2px solid #0d6efd;">

                    <div class="card-body d-flex justify-content-between align-items-center" >
                        <div>
                            <h2 class = "p-0 m-0" style= "color:#0d6efd" ><?= sprintf('%02d', $TASK_LIST);?></h2>
                            <span>Task List</span>
                        </div>
                        <div >
                            <svg width = "50" height = "50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                viewBox="0 0 57 57"  xml:space="preserve" fill='#0d6efd'>
                                <path d="M52.699,45.02c-0.55-0.101-1.069,0.241-1.18,0.781C50.403,51.303,46.074,55,40.749,55c-5.028,0-9.446-3.3-10.948-8H34.5v-2
                                    h-8v8h2v-3.849C30.669,53.833,35.415,57,40.749,57c6.304,0,11.42-4.341,12.731-10.801C53.59,45.657,53.24,45.13,52.699,45.02z"/>
                                <path d="M52.5,37.309C50.25,32.854,45.796,30,40.749,30c-6.109,0-11.541,3.997-13.209,9.721c-0.154,0.53,0.15,1.085,0.681,1.239
                                    c0.529,0.158,1.085-0.15,1.239-0.681C30.858,35.482,35.605,32,40.749,32c4.565,0,8.562,2.766,10.33,7H46.5v2h8v-8h-2V37.309z"/>
                                <path d="M28.5,14h18c0.553,0,1-0.447,1-1s-0.447-1-1-1h-18c-0.553,0-1,0.447-1,1S27.947,14,28.5,14z"/>
                                <path d="M28.5,28h18c0.553,0,1-0.447,1-1s-0.447-1-1-1h-18c-0.553,0-1,0.447-1,1S27.947,28,28.5,28z"/>
                                <path d="M22.079,7.241c-0.418-0.358-1.05-0.313-1.409,0.108l-6.248,7.288L10.6,11.771c-0.441-0.331-1.068-0.243-1.399,0.2
                                    c-0.332,0.441-0.242,1.068,0.2,1.399l4.571,3.429c0.179,0.135,0.39,0.2,0.599,0.2c0.283,0,0.563-0.119,0.76-0.35l6.857-8
                                    C22.548,8.231,22.499,7.601,22.079,7.241z"/>
                                <path d="M22.079,21.241c-0.418-0.359-1.05-0.312-1.409,0.108l-6.248,7.288L10.6,25.771c-0.441-0.331-1.068-0.243-1.399,0.2
                                    c-0.332,0.441-0.242,1.068,0.2,1.399l4.571,3.429c0.179,0.135,0.39,0.2,0.599,0.2c0.283,0,0.563-0.119,0.76-0.35l6.857-8
                                    C22.548,22.231,22.499,21.601,22.079,21.241z"/>
                                <path d="M20.67,36.35l-6.248,7.287L10.6,40.771c-0.441-0.33-1.068-0.243-1.399,0.2c-0.332,0.441-0.242,1.068,0.2,1.399l4.571,3.429
                                    c0.179,0.135,0.39,0.2,0.599,0.2c0.283,0,0.563-0.119,0.76-0.35l6.857-7.999c0.36-0.419,0.312-1.05-0.108-1.409
                                    C21.661,35.883,21.029,35.929,20.67,36.35z"/>
                                <path d="M43.324,0H13.676C6.962,0,1.5,5.462,1.5,12.176v29.648C1.5,48.538,6.962,54,13.676,54H22.5c0.553,0,1-0.447,1-1
                                    s-0.447-1-1-1h-8.824C8.064,52,3.5,47.436,3.5,41.824V12.176C3.5,6.564,8.064,2,13.676,2h29.648C48.936,2,53.5,6.564,53.5,12.176
                                    V27c0,0.553,0.447,1,1,1s1-0.447,1-1V12.176C55.5,5.462,50.038,0,43.324,0z"/>
                            </svg>
                        </div>

                    </div>
                </div>
            </a>
        </div> <!-- END OF COL-LG-2 --> 
    <?php } ?> 

        <?php  if(in_array( $Gate['VIEW_PD_ALL_JOBS'] , $_SESSION['ACCESS_LIST']  )) { ?> 
        <div class="col-sm-6 col-md-3 col-lg-2 col-xl-2 col-xs-12">
            <a href="AllJobs.php" style = "text-decoration:none;">
                <div class="card shadow-lg" style="border:2px solid #332FD0;" >
                    <div class="card-body d-flex justify-content-between align-items-center" >
                        <div>
                            <h2 class = "p-0 m-0" style= "color:#332FD0" ><?= sprintf('%02d', $ALL_JOBS);?></h2>
                            <span style = "color:#332FD0;" >All Jobs</span>
                        </div>
                        <div >
                            <svg width="50" height="50" viewBox="0 0 46 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M14 8H1V63H45V8H32" stroke="#332FD0" stroke-width="2" stroke-miterlimit="10"/>
                                <path d="M27 5V1H19V5H15L13 13H33L31 5H27Z" stroke="#332FD0" stroke-width="2" stroke-miterlimit="10"/>
                                <path d="M41 13H5V59H41V13Z" stroke="#332FD0" stroke-width="2" stroke-miterlimit="10"/>
                                <path d="M14.2628 40H12.2855L15.2983 31.2727H17.6761L20.6847 40H18.7074L16.5213 33.267H16.4531L14.2628 40ZM14.1392 36.5696H18.8097V38.0099H14.1392V36.5696ZM21.7351 40V31.2727H23.5803V38.4787H27.3217V40H21.7351ZM28.5437 40V31.2727H30.3888V38.4787H34.1303V40H28.5437Z" fill="#332FD0"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </a>
        </div> <!-- END OF COL-LG-2 --> 
        <?php } ?> 
        <?php  if(in_array( $Gate['VIEW_PD_NEW_JOBS'] , $_SESSION['ACCESS_LIST']  )) { ?> 
            <div class="col-sm-6 col-md-3 col-lg-2 col-xl-2 col-xs-12">
                <a href="NewJobs.php" style = "text-decoration:none;">
                    <div class="card shadow-lg" style="border:2px solid #00FFC6;" >
                        <div class="card-body d-flex justify-content-between align-items-center" >
                            <div>
                                <h2 class = "p-0 m-0" style= "color:#00FFC6" ><?= sprintf('%02d', $NEW_JOBS);?></h2>
                                <span style = "color:#00FFC6;"   >New Jobs</span>
                            </div>
                            <div>
                                <svg width="50" height="50" viewBox="0 0 35 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M34.11 14.49L30.19 7.87L34.07 1.52C34.1621 1.36868 34.2124 1.1956 34.2157 1.01848C34.2189 0.841351 34.1751 0.666534 34.0886 0.511912C34.0022 0.35729 33.8762 0.228414 33.7236 0.138469C33.5709 0.0485231 33.3972 0.000737145 33.22 0H2C1.46957 0 0.960859 0.210714 0.585786 0.585787C0.210714 0.96086 0 1.46957 0 2L0 14C0 14.5304 0.210714 15.0391 0.585786 15.4142C0.960859 15.7893 1.46957 16 2 16H33.25C33.4265 16 33.5999 15.9532 33.7524 15.8645C33.905 15.7758 34.0314 15.6483 34.1188 15.4949C34.2061 15.3415 34.2513 15.1678 34.2498 14.9913C34.2482 14.8148 34.2 14.6418 34.11 14.49V14.49ZM10.51 11.18H9.39L6.13 6.84V11.19H5V5H6.13L9.4 9.35V5H10.52L10.51 11.18ZM16.84 6H13.31V7.49H16.51V8.49H13.31V10.1H16.84V11.1H12.18V5H16.83L16.84 6ZM25.13 11.16H24L22.45 6.57L20.9 11.18H19.78L17.78 5H19L20.32 9.43L21.84 5H23.06L24.52 9.43L25.85 5H27.08L25.13 11.16Z" fill="#00FFC6"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </a>
            </div> <!-- END OF COL-LG-2 --> 
        <?php } ?> 
        <?php  if(in_array( $Gate['VIEW_PD_URGENT_JOBS'] , $_SESSION['ACCESS_LIST']  )) { ?> 
        <div class="col-sm-6 col-md-3 col-lg-2 col-xl-2 col-xs-12">
            <a href="UrgentJobs.php" style = "text-decoration:none;">
                <div class="card shadow-lg" style="border:2px solid #FB2576;" >
                    <div class="card-body d-flex justify-content-between align-items-center" >
                        <div>
                            <h2 class = "p-0 m-0" style= "color:#FB2576" ><?= sprintf('%02d', $URGENT_JOBS);?> </h2>
                            <span style = "color:#FB2576">Urgent Jobs</span>
                        </div>
                        <div class = " ">
                            <svg width="50" height="50" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M25.1813 21.9897L18.2172 17.1199V8.74999C18.2172 8.35552 17.8945 8.03278 17.5 8.03278C17.1055 8.03278 16.7828 8.35552 16.7828 8.74999V17.5C16.7828 17.7367 16.8975 17.9518 17.0912 18.0881L24.3637 23.1731C24.4856 23.2592 24.6291 23.3022 24.7725 23.3022C24.9949 23.3022 25.2172 23.1947 25.3606 22.9867C25.583 22.6639 25.5041 22.2193 25.1813 21.9897Z" fill="#FB2576"/>
                                <path d="M29.8648 5.13525C26.5512 1.82172 22.1619 0 17.5 0C12.8381 0 8.44877 1.82172 5.13525 5.13525C1.82172 8.44877 0 12.8381 0 17.5C0 22.1619 1.82172 26.5512 5.13525 29.8648C8.44877 33.1783 12.8381 35 17.5 35C22.1619 35 26.5512 33.1783 29.8648 29.8648C33.1783 26.5512 35 22.1619 35 17.5C35 12.8381 33.1783 8.44877 29.8648 5.13525ZM18.2172 33.5512V30.625C18.2172 30.2305 17.8945 29.9078 17.5 29.9078C17.1055 29.9078 16.7828 30.2305 16.7828 30.625V33.5512C8.4918 33.1854 1.81455 26.5082 1.44877 18.2172H4.375C4.76947 18.2172 5.09221 17.8945 5.09221 17.5C5.09221 17.1055 4.76947 16.7828 4.375 16.7828H1.44877C1.81455 8.4918 8.4918 1.81455 16.7828 1.44877V4.375C16.7828 4.76947 17.1055 5.09221 17.5 5.09221C17.8945 5.09221 18.2172 4.76947 18.2172 4.375V1.44877C26.5082 1.81455 33.1854 8.4918 33.5512 16.7828H30.625C30.2305 16.7828 29.9078 17.1055 29.9078 17.5C29.9078 17.8945 30.2305 18.2172 30.625 18.2172H33.5512C33.1854 26.5082 26.5082 33.1854 18.2172 33.5512Z" fill="#FB2576"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </a>
        </div> <!-- END OF COL-LG-2 --> 
        <?php } ?> 
        <?php  if(in_array( $Gate['VIEW_PD_PENDED_JOBS'] , $_SESSION['ACCESS_LIST']  )) { ?>
        <div class="col-sm-6 col-md-3 col-lg-2 col-xl-2 col-xs-12">
            <a href="PendedJobs.php" style = "text-decoration:none;">
                <div class="card shadow-lg" style="border:2px solid #FFCA03;" >
                    <div class="card-body d-flex justify-content-between align-items-center" >
                        <div>
                            <h2 class = "p-0 m-0" style= "color:#FFCA03" > <?= sprintf('%02d', $PENDED_JOBS);?>  </h2>
                            <span style = "color:#FFCA03">Pended Jobs</span>
                        </div>
                        <div class = "">
                            <svg width="50" height="50" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M502.625 121.375L390.625 9.375C384.625 3.375 376.484 0 368 0H144C135.516 0 127.375 3.375 121.375 9.375L9.375 121.375C3.375 127.375 0 135.516 0 144V368C0 376.484 3.375 384.625 9.375 390.625L121.375 502.625C127.375 508.625 135.516 512 144 512H368C376.484 512 384.625 508.625 390.625 502.625L502.625 390.625C508.625 384.625 512 376.484 512 368V144C512 135.516 508.625 127.375 502.625 121.375ZM368 239.996V351.996C368 387.344 333.738 416 298.391 416H251.836C221.531 416 193.832 398.879 180.281 371.775L170.39 351.997L129.566 256.739C125.539 247.337 129.535 236.426 138.679 231.852C147.589 227.399 161.226 230.446 166.503 238.891L192 275.195V239.996V111.996C192 103.16 199.164 95.996 208 95.996C216.836 95.996 224 103.16 224 111.996V231.996C224 236.414 227.582 239.996 232 239.996C236.418 239.996 240 236.414 240 231.996V79.996C240 71.16 247.164 63.996 256 63.996C264.836 63.996 272 71.16 272 79.996V231.996C272 236.414 275.582 239.996 280 239.996C284.418 239.996 288 236.414 288 231.996V111.996C288 103.16 295.164 95.996 304 95.996C312.836 95.996 320 103.16 320 111.996V239.996V247.996C320 252.414 323.582 255.996 328 255.996C332.418 255.996 336 252.414 336 247.996V239.996V159.996C336 151.16 343.164 143.996 352 143.996C360.836 143.996 368 151.16 368 159.996V239.996V239.996Z" fill="#FFCA03"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </a>
        </div> <!-- END OF COL-LG-2 --> 
        <?php } ?> 

        <?php  if(in_array( $Gate['VIEW_PD_UNDERPROCESS_JOBS'] , $_SESSION['ACCESS_LIST']  )) { ?>
        <div class="col-sm-6 col-md-3 col-lg-2 col-xl-2 col-xs-12">
            <a href="MachineOpreatorList.php" style = "text-decoration:none;">
                <div class="card shadow-lg" style="border:2px solid #38E54D;" >
                    <div class="card-body d-flex justify-content-between align-items-center" >
                        <div>
                            <h2 class = "p-0 m-0" style= "color:#38E54D" > <?= sprintf('%02d', $UNDER_PROCESS);?>  </h2>
                            <span style = "color:#38E54D">Under Process</span>  
                        </div>
                        <div class = "">
                            <svg width="50" height="50" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.38 23.3599H14.62C14.421 23.3599 14.26 23.1989 14.26 22.9999V21.4329L13.391 21.0699L12.28 22.1809C12.213 22.2479 12.121 22.2859 12.026 22.2859C11.93 22.2859 11.839 22.2479 11.772 22.1809L9.82001 20.2289C9.67901 20.0879 9.67901 19.8599 9.82001 19.7189L10.928 18.6119L10.571 17.7409H9.00001C8.80101 17.7409 8.64001 17.5799 8.64001 17.3809V14.6209C8.64001 14.4219 8.80101 14.2609 9.00001 14.2609H10.567L10.93 13.3919L9.82001 12.2799C9.68001 12.1389 9.68001 11.9119 9.82001 11.7709L11.771 9.81889C11.906 9.68289 12.145 9.68289 12.28 9.81889L13.388 10.9279L14.26 10.5709V8.99989C14.26 8.80089 14.421 8.63989 14.62 8.63989H17.38C17.579 8.63989 17.74 8.80089 17.74 8.99989V10.5669L18.608 10.9299L19.718 9.81889C19.853 9.68389 20.093 9.68289 20.228 9.81889L22.18 11.7709C22.247 11.8379 22.285 11.9299 22.285 12.0249C22.285 12.1209 22.247 12.2119 22.18 12.2789L21.071 13.3869L21.428 14.2589H23C23.199 14.2589 23.36 14.4199 23.36 14.6189V17.3789C23.36 17.5779 23.199 17.7389 23 17.7389H21.433L21.07 18.6069L22.181 19.7169C22.248 19.7839 22.286 19.8759 22.286 19.9719C22.286 20.0679 22.248 20.1599 22.181 20.2269L20.229 22.1789C20.162 22.2459 20.07 22.2839 19.974 22.2839C19.878 22.2839 19.786 22.2459 19.719 22.1789L18.612 21.0699L17.741 21.4269V22.9999C17.74 23.1989 17.579 23.3599 17.38 23.3599ZM14.98 22.6399H17.02V21.1879C17.02 21.0419 17.109 20.9109 17.244 20.8549L18.56 20.3149C18.694 20.2579 18.848 20.2909 18.952 20.3929L19.974 21.4169L21.417 19.9739L20.389 18.9479C20.286 18.8439 20.255 18.6889 20.312 18.5539L20.862 17.2419C20.918 17.1079 21.049 17.0199 21.194 17.0199H22.64V14.9799H21.188C21.042 14.9799 20.911 14.8919 20.855 14.7569L20.315 13.4409C20.26 13.3069 20.291 13.1519 20.393 13.0499L21.417 12.0269L19.974 10.5839L18.948 11.6109C18.844 11.7139 18.689 11.7459 18.554 11.6889L17.242 11.1399C17.108 11.0839 17.02 10.9529 17.02 10.8079V9.35989H14.98V10.8119C14.98 10.9579 14.892 11.0899 14.757 11.1449L13.441 11.6849C13.306 11.7389 13.153 11.7089 13.05 11.6059L12.027 10.5829L10.585 12.0259L11.612 13.0539C11.715 13.1569 11.746 13.3129 11.689 13.4479L11.14 14.7599C11.084 14.8939 10.953 14.9809 10.808 14.9809H9.36001V17.0209H10.812C10.958 17.0209 11.09 17.1099 11.145 17.2449L11.685 18.5609C11.74 18.6959 11.709 18.8499 11.606 18.9529L10.584 19.9749L12.026 21.4179L13.054 20.3899C13.158 20.2859 13.313 20.2569 13.448 20.3129L14.76 20.8629C14.894 20.9189 14.981 21.0499 14.981 21.1949L14.98 22.6399ZM16 19.3599C14.147 19.3599 12.64 17.8519 12.64 15.9999C12.64 14.1479 14.147 12.6399 16 12.6399C17.853 12.6399 19.36 14.1469 19.36 15.9999C19.36 17.8529 17.853 19.3599 16 19.3599ZM16 13.3599C14.544 13.3599 13.36 14.5449 13.36 15.9999C13.36 17.4559 14.545 18.6399 16 18.6399C17.456 18.6399 18.64 17.4559 18.64 15.9999C18.64 14.5439 17.456 13.3599 16 13.3599ZM16 31.3599C11.471 31.3599 7.28401 29.4269 4.36001 26.0219V29.9999H3.64001V24.6399H9.00001V25.3609H4.74301C7.53601 28.7249 11.598 30.6399 16 30.6399C24.072 30.6399 30.64 24.0729 30.64 15.9999H31.361C31.36 24.4699 24.47 31.3599 16 31.3599ZM1.36001 15.9999H0.640015C0.640015 7.52989 7.53001 0.639893 16 0.639893C20.529 0.639893 24.716 2.57289 27.64 5.97689V1.99989H28.361V7.35989H23V6.63989H27.257C24.464 3.27489 20.401 1.35989 16 1.35989C7.92701 1.35989 1.36001 7.92689 1.36001 15.9999Z" fill="#38E54D"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </a>
        </div> <!-- END OF COL-LG-2 --> 
        <?php } ?>

    </div> <!-- END OF ROW -->



    <div class="row mt-4">
        <?php  if(in_array( $Gate['VIEW_PD_FINISHED_JOBS'] , $_SESSION['ACCESS_LIST']  )) { ?>
        <div class="col-sm-6 col-md-3 col-lg-2 col-xl-2 col-xs-12">
            <a href="FinishList.php" style = "text-decoration:none;">
                <div class="card shadow-lg" style="border:2px solid #AE00FB;" >
                    <div class="card-body d-flex justify-content-between align-items-center" >
                        <div>
                            <h2 class = "p-0 m-0" style= "color:#AE00FB" ><?= sprintf('%02d', $FINISH_LIST);?> </h2>
                            <span style = "color:#AE00FB">Finished Jobs</span>   
                        </div>
                        <div class = "">
                            <svg width="50" height="50" viewBox="0 0 56 57" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M55.188 41.863L53.744 41.586C53.067 41.456 52.534 41.013 52.282 40.37C52.029 39.728 52.119 39.041 52.527 38.485L53.434 37.249C53.726 36.851 53.684 36.299 53.334 35.95L51.375 33.992C51.036 33.653 50.503 33.603 50.107 33.871L48.89 34.695C48.32 35.083 47.628 35.146 46.995 34.87C46.363 34.595 45.94 34.045 45.835 33.362L45.602 31.847C45.528 31.36 45.108 31 44.615 31H41.845C41.366 31 40.953 31.341 40.863 31.812L40.505 33.677C40.378 34.339 39.947 34.867 39.324 35.125C38.699 35.386 38.023 35.314 37.464 34.936L35.892 33.872C35.495 33.604 34.963 33.654 34.624 33.993L32.665 35.951C32.315 36.3 32.273 36.851 32.565 37.25L33.472 38.486C33.88 39.042 33.97 39.729 33.717 40.371C33.465 41.014 32.932 41.457 32.255 41.587L30.811 41.864C30.34 41.955 29.999 42.367 29.999 42.846V45.616C29.999 46.109 30.359 46.529 30.847 46.604L32.362 46.837C33.045 46.942 33.594 47.365 33.87 47.997C34.146 48.63 34.082 49.32 33.695 49.892L32.871 51.109C32.602 51.505 32.653 52.038 32.992 52.377L34.95 54.336C35.298 54.685 35.849 54.726 36.249 54.436L37.485 53.529C38.04 53.122 38.729 53.031 39.37 53.284C40.013 53.536 40.456 54.069 40.586 54.746L40.863 56.19C40.954 56.659 41.366 57 41.846 57H44.616C45.109 57 45.529 56.64 45.604 56.152L45.768 55.087C45.873 54.399 46.32 53.831 46.961 53.565C47.605 53.299 48.322 53.386 48.882 53.797L49.751 54.435C50.151 54.728 50.702 54.685 51.05 54.335L53.008 52.376C53.347 52.037 53.398 51.505 53.129 51.108L52.305 49.891C51.918 49.32 51.854 48.629 52.13 47.996C52.405 47.364 52.955 46.941 53.638 46.836L55.153 46.603C55.64 46.528 56.001 46.108 56.001 45.615V42.845C56 42.366 55.659 41.954 55.188 41.863ZM54 44.758L53.333 44.861C51.979 45.069 50.844 45.943 50.297 47.198C49.749 48.454 49.881 49.88 50.649 51.013L51.01 51.546L50.242 52.314L50.065 52.184C48.935 51.357 47.49 51.182 46.196 51.717C44.902 52.253 44.004 53.399 43.791 54.782L43.758 55H42.672L42.551 54.367C42.292 53.021 41.376 51.92 40.102 51.42C38.827 50.921 37.407 51.106 36.302 51.914L35.758 52.313L34.99 51.545L35.351 51.012C36.119 49.878 36.25 48.452 35.703 47.197C35.156 45.942 34.02 45.068 32.667 44.86L32 44.758V43.672L32.633 43.551C33.979 43.292 35.08 42.376 35.58 41.102C36.08 39.827 35.895 38.407 35.086 37.302L34.687 36.758L35.455 35.99L36.344 36.592C37.451 37.344 38.854 37.485 40.091 36.973C41.328 36.46 42.218 35.369 42.471 34.054L42.672 33H43.758L43.861 33.667C44.069 35.021 44.943 36.156 46.198 36.703C47.454 37.25 48.88 37.119 50.013 36.351L50.546 35.99L51.314 36.758L50.915 37.302C50.105 38.406 49.921 39.826 50.421 41.102C50.921 42.376 52.023 43.292 53.368 43.551L54.001 43.672V44.758H54Z" fill="#AE00FB"/>
                                <path d="M43 39C40.243 39 38 41.243 38 44C38 46.757 40.243 49 43 49C45.757 49 48 46.757 48 44C48 41.243 45.757 39 43 39ZM43 47C41.346 47 40 45.654 40 44C40 42.346 41.346 41 43 41C44.654 41 46 42.346 46 44C46 45.654 44.654 47 43 47Z" fill="#AE00FB"/>
                                <path d="M27 12C26.447 12 26 12.447 26 13C26 13.553 26.447 14 27 14H45C45.553 14 46 13.553 46 13C46 12.447 45.553 12 45 12H27Z" fill="#AE00FB"/>
                                <path d="M46 27C46 26.447 45.553 26 45 26H27C26.447 26 26 26.447 26 27C26 27.553 26.447 28 27 28H45C45.553 28 46 27.553 46 27Z" fill="#AE00FB"/>
                                <path d="M20.579 7.24101C20.161 6.88201 19.529 6.92901 19.17 7.34901L12.922 14.637L9.09999 11.771C8.65899 11.441 8.03199 11.528 7.70099 11.971C7.36899 12.412 7.45899 13.039 7.90099 13.37L12.472 16.799C12.651 16.934 12.862 16.999 13.071 16.999C13.354 16.999 13.634 16.88 13.831 16.649L20.688 8.64901C21.048 8.23101 20.999 7.60101 20.579 7.24101Z" fill="#AE00FB"/>
                                <path d="M20.579 21.241C20.161 20.882 19.529 20.929 19.17 21.349L12.922 28.637L9.09999 25.771C8.65899 25.441 8.03199 25.528 7.70099 25.971C7.36899 26.412 7.45899 27.039 7.90099 27.37L12.472 30.799C12.651 30.934 12.862 30.999 13.071 30.999C13.354 30.999 13.634 30.88 13.831 30.649L20.688 22.649C21.048 22.231 20.999 21.601 20.579 21.241Z" fill="#AE00FB"/>
                                <path d="M19.17 36.35L12.922 43.637L9.09999 40.771C8.65899 40.44 8.03199 40.528 7.70099 40.971C7.36899 41.412 7.45899 42.039 7.90099 42.37L12.472 45.799C12.651 45.934 12.862 45.999 13.071 45.999C13.354 45.999 13.634 45.88 13.831 45.649L20.688 37.65C21.048 37.231 21 36.6 20.58 36.241C20.161 35.882 19.529 35.93 19.17 36.35Z" fill="#AE00FB"/>
                                <path d="M23 52H12.176C6.564 52 2 47.436 2 41.824V12.176C2 6.564 6.564 2 12.176 2H41.824C47.436 2 52 6.564 52 12.176V33C52 33.553 52.447 34 53 34C53.553 34 54 33.553 54 33V12.176C54 5.462 48.538 0 41.824 0H12.176C5.462 0 0 5.462 0 12.176V41.824C0 48.538 5.462 54 12.176 54H23C23.553 54 24 53.553 24 53C24 52.447 23.553 52 23 52Z" fill="#AE00FB"/>
                            </svg>
                        </div>
                    </div>
                </div> <!-- END OF CARD -->
            </a>
        </div> <!-- END OF COL-LG-2 --> 
        <?php } ?>

        <?php  if(in_array( $Gate['VIEW_PD_MATERIAL_REQUEST'] , $_SESSION['ACCESS_LIST']  )) { ?>
        <div class="col-sm-6 col-md-3 col-lg-2 col-xl-2 col-xs-12">
            <div class="card shadow-lg" style="border:2px solid #FF9E9E;" >
                <div class="card-body d-flex justify-content-between align-items-center" >
                    <div>
                        <h2 class = "p-0 m-0" style= "color:#FF9E9E" >80</h2>
                        <span>Material Request</span>
                    </div>
                    <div class = "">
                        <svg width="60" height="60" viewBox="0 0 504 236" fill="#FF9E9E" xmlns="http://www.w3.org/2000/svg">
                            <path d="M486.82 41.967H470.033C470.033 32.734 462.479 25.18 453.246 25.18H436.459C436.459 10.911 425.548 0 411.279 0H369.312H184.656H142.689C131.347 0 122.134 6.89699 118.828 16.891C102.581 17.948 89.03 27.888 82.921 41.967H60.433L37.77 20.983C34.413 17.626 29.377 17.626 26.019 20.983L2.518 44.485C0.839 46.163 0 47.842 0 50.36C0 52.878 0.839 54.557 2.518 56.235L37.77 89.809C39.449 91.488 41.127 92.327 43.645 92.327H76.783L67.986 207.317C67.147 214.871 69.665 221.586 74.701 226.622C79.737 232.497 86.452 235.015 93.167 235.015C115.829 235.015 135.134 218.228 137.652 194.726L142.185 134.281C142.353 134.284 142.519 134.293 142.688 134.293H152.602L171.226 216.549C172.905 223.264 177.101 229.139 182.977 232.497C187.174 235.015 191.37 235.854 195.567 235.854C198.085 235.854 200.603 235.015 203.121 234.175C224.944 228.3 238.373 206.477 234.177 183.814L225.807 134.293H411.278C425.547 134.293 436.458 123.382 436.458 109.113H453.245C462.478 109.113 470.032 101.559 470.032 92.326H486.819C496.052 92.326 503.606 84.772 503.606 75.539V58.754C503.607 49.521 496.052 41.967 486.82 41.967ZM360.918 16.786V50.36C360.918 55.396 357.561 58.753 352.525 58.753H201.443C196.407 58.753 193.05 55.396 193.05 50.36V16.786H360.918V16.786ZM78.059 75.54H47.003L20.144 50.36L32.734 38.609L52.039 56.235C52.878 57.914 55.396 58.753 57.075 58.753H79.352L78.098 75.149L78.059 75.54ZM120.866 192.209V193.888C119.187 207.318 107.436 218.229 93.168 218.229C90.65 218.229 88.971 217.39 87.293 215.711C85.614 213.193 84.775 211.514 84.775 208.996L95.928 63.206L96.526 56.235C96.526 55.396 97.365 54.556 97.365 52.878C97.682 51.926 97.758 50.855 97.641 49.799C100.524 41.031 108.425 34.971 117.509 33.573V41.657V109.114C117.509 116.816 120.692 123.536 125.862 128.093L120.866 192.209ZM218.229 184.655V186.334C220.747 200.603 212.354 214.032 198.924 218.229C196.406 219.068 193.888 218.229 192.209 217.39C189.691 216.551 188.852 214.872 188.012 212.354L170.386 134.295H208.996L218.229 184.655ZM419.672 109.114C419.672 114.15 416.315 117.507 411.279 117.507H386.099V100.72C386.099 95.684 382.742 92.327 377.706 92.327C372.67 92.327 369.313 95.684 369.313 100.72V117.507H318.952V100.72C318.952 95.684 315.595 92.327 310.559 92.327C305.523 92.327 302.166 95.684 302.166 100.72V117.507H251.805V100.72C251.805 95.684 248.448 92.327 243.412 92.327C238.376 92.327 235.019 95.684 235.019 100.72V117.507H215.714H184.658V100.72C184.658 95.684 181.301 92.327 176.265 92.327C171.229 92.327 167.872 95.684 167.872 100.72V117.507H159.479H142.692C141.913 117.507 141.18 117.418 140.488 117.263C140.126 117.038 139.746 116.832 139.335 116.667C135.978 114.988 134.299 112.47 134.299 109.113V25.179C134.299 20.143 137.656 16.786 142.692 16.786H176.266V50.36C176.266 64.629 187.177 75.54 201.446 75.54H352.528C366.797 75.54 377.708 64.629 377.708 50.36V16.786H411.282C416.318 16.786 419.675 20.143 419.675 25.179V33.572V100.72V109.114H419.672ZM453.246 92.327H436.459V41.966H453.246V50.359V83.933V92.327ZM486.82 75.54H470.033V58.754H486.82V75.54Z" fill="#FF9E9E"/>
                        </svg>
                    </div>
                </div>
            </div> <!-- END OF CARD -->
        </div> <!-- END OF COL-LG-2 --> 
        <?php } ?>
        
        <?php  if(in_array( $Gate['VIEW_PD_RM_MACHINE'] , $_SESSION['ACCESS_LIST']  )) { ?>
        <div class="col-sm-6 col-md-3 col-lg-2 col-xl-2 col-xs-12">
            <div class="card shadow-lg" style="border:2px solid #206A5D;" title = "repair and maintainance machines"   >
                <div class="card-body d-flex justify-content-between align-items-center" >
                    <div>
                        <h2 class = "p-0 m-0" style= "color:#206A5D" >80</h2>
                        <span>R&M Machine</span>
                    </div>
                    <div class = "">
                        <svg width="50" height="50" viewBox="0 0 460 460" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M230 300V330H430V430H230V460H460V300H230Z" fill="#BFBFBF"/>
                            <path d="M430 430V330H230V430H430ZM380 360C391.028 360 400 368.971 400 380C400 391.029 391.028 400 380 400C368.972 400 360 391.029 360 380C360 368.971 368.972 360 380 360ZM320 360C331.028 360 340 368.971 340 380C340 391.029 331.028 400 320 400C308.972 400 300 391.029 300 380C300 368.971 308.972 360 320 360Z" fill="#E8E8E8"/>
                            <path d="M30 430V330H230V300H0V460H230V430H30Z" fill="#E8E8E8"/>
                            <path d="M30 430H230V330H30V430ZM60 360H200V400H60V360Z" fill="white"/>
                            <path d="M130 261.793V300H230C191.579 300 156.539 285.548 130 261.793Z" fill="#FF6A00"/>
                            <path d="M330 300V261.793C303.461 285.548 268.421 300 230 300H330Z" fill="#FF3D0D"/>
                            <path d="M380 400C391.028 400 400 391.029 400 380C400 368.971 391.028 360 380 360C368.972 360 360 368.971 360 380C360 391.029 368.972 400 380 400Z" fill="#FF3D0D"/>
                            <path d="M320 400C331.028 400 340 391.029 340 380C340 368.971 331.028 360 320 360C308.972 360 300 368.971 300 380C300 391.029 308.972 400 320 400Z" fill="#FF6A00"/>
                            <path d="M330 261.793C360.684 234.327 380 194.422 380 150C380 67.157 312.843 0 230 0C147.157 0 80 67.157 80 150C80 194.422 99.316 234.327 130 261.793C156.539 285.548 191.579 300 230 300C268.421 300 303.461 285.548 330 261.793ZM280.711 220.711C280.711 209.682 289.683 200.711 300.711 200.711C311.739 200.711 320.711 209.682 320.711 220.711C320.711 231.74 311.739 240.711 300.711 240.711C289.683 240.711 280.711 231.739 280.711 220.711ZM350 150C350 161.028 341.029 170 330 170C318.971 170 310 161.028 310 150C310 138.972 318.971 130 330 130C341.029 130 350 138.972 350 150ZM300.711 59.289C311.739 59.289 320.711 68.26 320.711 79.289C320.711 90.318 311.739 99.289 300.711 99.289C289.683 99.289 280.711 90.318 280.711 79.289C280.711 68.26 289.683 59.289 300.711 59.289ZM230 30C241.028 30 250 38.971 250 50C250 61.029 241.028 70 230 70C218.972 70 210 61.029 210 50C210 38.971 218.972 30 230 30ZM230 95C260.33 95 285 119.67 285 150C285 180.33 260.33 205 230 205C199.67 205 175 180.33 175 150C175 119.67 199.67 95 230 95ZM139.289 220.711C139.289 209.682 148.261 200.711 159.289 200.711C170.317 200.711 179.289 209.682 179.289 220.711C179.289 231.74 170.317 240.711 159.289 240.711C148.261 240.711 139.289 231.739 139.289 220.711ZM159.289 59.289C170.317 59.289 179.289 68.26 179.289 79.289C179.289 90.318 170.317 99.289 159.289 99.289C148.261 99.289 139.289 90.318 139.289 79.289C139.289 68.26 148.261 59.289 159.289 59.289ZM110 150C110 138.972 118.971 130 130 130C141.029 130 150 138.972 150 150C150 161.028 141.029 170 130 170C118.971 170 110 161.028 110 150ZM210 250C210 238.971 218.972 230 230 230C241.028 230 250 238.971 250 250C250 261.029 241.028 270 230 270C218.972 270 210 261.029 210 250Z" fill="#404040"/>
                            <path d="M230 70V30C218.972 30 210 38.971 210 50C210 61.029 218.972 70 230 70Z" fill="#BFBFBF"/>
                            <path d="M250 50C250 38.971 241.028 30 230 30V70C241.028 70 250 61.029 250 50Z" fill="#8F8F8F"/>
                            <path d="M159.289 99.2891C170.317 99.2891 179.289 90.3181 179.289 79.2891C179.289 68.2601 170.317 59.2891 159.289 59.2891C148.261 59.2891 139.289 68.2601 139.289 79.2891C139.289 90.3181 148.261 99.2891 159.289 99.2891Z" fill="#BFBFBF"/>
                            <path d="M150 150C150 138.972 141.029 130 130 130C118.971 130 110 138.972 110 150C110 161.028 118.971 170 130 170C141.029 170 150 161.028 150 150Z" fill="#BFBFBF"/>
                            <path d="M179.289 220.711C179.289 209.682 170.317 200.711 159.289 200.711C148.261 200.711 139.289 209.682 139.289 220.711C139.289 231.74 148.261 240.711 159.289 240.711C170.317 240.711 179.289 231.739 179.289 220.711Z" fill="#BFBFBF"/>
                            <path d="M300.711 99.2891C311.739 99.2891 320.711 90.3181 320.711 79.2891C320.711 68.2601 311.739 59.2891 300.711 59.2891C289.683 59.2891 280.711 68.2601 280.711 79.2891C280.711 90.3181 289.683 99.2891 300.711 99.2891Z" fill="#8F8F8F"/>
                            <path d="M320.711 220.711C320.711 209.682 311.739 200.711 300.711 200.711C289.683 200.711 280.711 209.682 280.711 220.711C280.711 231.74 289.683 240.711 300.711 240.711C311.739 240.711 320.711 231.739 320.711 220.711Z" fill="#8F8F8F"/>
                            <path d="M230 230C218.972 230 210 238.971 210 250C210 261.029 218.972 270 230 270V230Z" fill="#BFBFBF"/>
                            <path d="M230 270C241.028 270 250 261.029 250 250C250 238.971 241.028 230 230 230V270Z" fill="#8F8F8F"/>
                            <path d="M310 150C310 161.028 318.971 170 330 170C341.029 170 350 161.028 350 150C350 138.972 341.029 130 330 130C318.971 130 310 138.972 310 150Z" fill="#8F8F8F"/>
                            <path d="M200 360H60V400H200V360Z" fill="#FF6A00"/>
                        </svg>
                    </div>
                </div>
            </div> <!-- END OF CARD -->
        </div> <!-- END OF COL-LG-2 --> 
        <?php } ?>
        <?php  if(in_array( $Gate['VIEW_PD_PRODUCTION_STAFF'] , $_SESSION['ACCESS_LIST']  )) { ?>
        <div class="col-sm-6 col-md-3 col-lg-2 col-xl-2 col-xs-12">
            <a href="EmployeeList.php" style = "text-decoration:none;">
                <div class="card shadow-lg" style="border:2px solid #F77E21;" >
                    <div class="card-body d-flex justify-content-between align-items-center" >
                        <div> 
                            <h2 class = "p-0 m-0" style= "color:#F77E21" ><?= sprintf('%02d', $EMPLOYEE_ID);?></h2>
                            <span  style = "color:#F77E21" >Production Staff</span>
                        </div>
                        <div class = "">
                            <svg width="50" height="50" viewBox="0 0 395 485" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M107.5 364.8V437.5H67.5V381.9C77.4 376.7 89 371.9 102.5 367.5C102.5 367.5 104.4 366.5 107.5 364.8Z" fill="#31C0D8"/>
                                <path d="M327.5 381.7V437.5H287.5V364.8C290.6 366.5 292.5 367.5 292.5 367.5C306 371.8 317.6 376.6 327.5 381.7Z" fill="#31C0D8"/>
                                <path d="M52.5 467.5C52.5 473 57 477.5 62.5 477.5H7.5C7.5 463.5 7.5 452.5 7.5 452.5C7.5 452.5 8.2 412.4 67.5 381.9V437.5H62.5C57 437.5 52.5 442 52.5 447.5V467.5Z" fill="#AFB6BB"/>
                                <path d="M387.5 452.5C387.5 452.5 387.5 463.5 387.5 477.5H332.5C338 477.5 342.5 473 342.5 467.5V447.5C342.5 442 338 437.5 332.5 437.5H327.5V381.7C387.3 412.1 387.5 452.5 387.5 452.5Z" fill="#AFB6BB"/>
                                <path d="M287.5 364.8V437.5H107.5V364.8C117.3 359.4 139.2 346.8 147.5 337.5C147.5 337.5 168.1 362.5 197.5 362.5C226.9 362.5 247.5 337.5 247.5 337.5C255.8 346.8 277.7 359.4 287.5 364.8Z" fill="#AFB6BB"/>
                                <path d="M342.5 447.5V467.5C342.5 473 338 477.5 332.5 477.5H62.5C57 477.5 52.5 473 52.5 467.5V447.5C52.5 442 57 437.5 62.5 437.5H67.5H107.5H287.5H327.5H332.5C338 437.5 342.5 442 342.5 447.5Z" fill="#31C0D8"/>
                                <path d="M237.5 19V102.5H157.5V19V7.5H237.5V19Z" fill="#FFD147"/>
                                <path d="M317.5 102.5H237.5V19C276 32 306.1 63.3 317.5 102.5Z" fill="#FBB246"/>
                                <path d="M157.5 19V102.5H77.5V102.4C88.9 63.2 119 32 157.5 19Z" fill="#FBB246"/>
                                <path d="M342.5 142.5H307.5H87.5H52.5C52.5 131.5 61.5 102.5 72.5 102.5H77.5H157.5H237.5H317.5H322.5C333.5 102.5 342.5 131.5 342.5 142.5Z" fill="#FFD248"/>
                                <path d="M307.5 167.5C324.1 167.5 337.5 173.7 337.5 187.5C337.5 200.3 321.7 215.1 306.2 217.2C307.1 210.8 307.5 204.2 307.5 197.5V167.5Z" fill="#EADECA"/>
                                <path d="M87.5 197.5C87.5 204.2 87.9 210.8 88.8 217.2C73.3 215.1 57.5 200.3 57.5 187.5C57.5 173.7 70.9 167.5 87.5 167.5V197.5Z" fill="#EADECA"/>
                                <path d="M147.5 305.7C162.1 313.3 178.9 317.5 197.5 317.5C216.1 317.5 232.9 313.3 247.5 305.7V337.5C247.5 337.5 226.9 362.5 197.5 362.5C168.1 362.5 147.5 337.5 147.5 337.5V305.7Z" fill="#EADECA"/>
                                <path d="M147.5 305.7C115.4 289.1 94.2 256.3 88.8 217.2C87.9 210.8 87.5 204.2 87.5 197.5V167.5V142.5H307.5V167.5V197.5C307.5 204.2 307.1 210.8 306.2 217.2C300.8 256.3 279.6 289.1 247.5 305.7C232.9 313.3 216.1 317.5 197.5 317.5C178.9 317.5 162.1 313.3 147.5 305.7Z" fill="#EADECA"/>
                                <path d="M330.935 375.033C320.437 369.625 308.493 364.758 295.423 360.561C294.656 360.152 293.151 359.345 291.12 358.231C274.452 349.047 261.313 340.364 255 334.428V310.142C285.385 292.77 306.163 261.599 312.804 223.447C330.017 218.518 345 202.361 345 187.5C345 172.457 333.692 162.474 315 160.406V150H350V142.5C350 132.845 341.618 95.693 322.998 95.031C310.397 57.703 281.775 27.87 245 13.748V0H150V13.748C113.176 27.885 84.536 57.721 71.967 95.033C53.372 95.74 45 132.851 45 142.5V150H80V160.406C61.308 162.474 50 172.457 50 187.5C50 202.361 64.983 218.519 82.196 223.448C88.843 261.615 109.625 292.783 140 310.144V334.429C133.688 340.365 120.55 349.047 103.894 358.224C101.834 359.354 100.317 360.167 99.556 360.573C86.148 364.974 74.193 369.914 64.071 375.231C1.5 407.413 0.0339989 450.549 0.0019989 452.37L0 485H395V452.463C394.991 450.626 394.051 407.119 330.935 375.033ZM320 386.345V430H295V376.218C304.011 379.276 312.38 382.666 320 386.345ZM115 369.204C124.754 363.695 138.203 355.583 147.241 348.035C155.885 356.174 174.023 370 197.5 370C220.977 370 239.115 356.174 247.759 348.034C256.794 355.58 270.239 363.69 280 369.203V430H115V369.204ZM197.5 325C212.579 325 226.824 322.405 240 317.299V334.611C234.87 339.974 218.613 355 197.5 355C176.523 355 160.154 339.945 155 334.596V317.298C168.182 322.406 182.424 325 197.5 325ZM330 187.5C330 193.626 323.373 201.967 314.734 206.57C314.899 203.606 315 175.482 315 175.482C328.367 177.356 330 184.268 330 187.5ZM307.045 95H245V29.958C273.457 42.537 295.807 65.964 307.045 95ZM165 15H230V95H165V15ZM150 29.956V95H87.919C99.134 65.976 121.5 42.545 150 29.956ZM72.669 110H322.331C325.773 111.314 331.803 124.23 334.088 135H60.912C63.197 124.23 69.227 111.314 72.669 110ZM65 187.5C65 184.268 66.633 177.356 80 175.482C80 175.482 80.101 203.608 80.266 206.57C71.627 201.966 65 193.626 65 187.5ZM96.227 216.156C95.413 210.366 95 204.09 95 197.5V150H300V197.5C300 204.09 299.587 210.366 298.77 216.174C293.612 253.521 273.669 283.724 244.037 299.048C230.075 306.315 214.417 310 197.5 310C180.582 310 164.925 306.315 150.945 299.038C121.331 283.724 101.388 253.521 96.227 216.156ZM100 376.25V430H75V386.509C82.426 382.868 90.798 379.431 100 376.25ZM15 452.63C15.093 450.565 17.189 420.922 60 394.708V430.2C51.534 431.42 45 438.702 45 447.5V467.5C45 468.351 45.082 469.181 45.2 470H15V452.63ZM62.5 470C61.145 470 60 468.855 60 467.5V447.5C60 446.145 61.145 445 62.5 445H332.5C333.855 445 335 446.145 335 447.5V467.5C335 468.855 333.855 470 332.5 470H62.5ZM380 470H349.8C349.918 469.181 350 468.351 350 467.5V447.5C350 438.702 343.466 431.419 335 430.2V394.436C378.444 420.742 379.951 450.828 380 452.572V470Z" fill="#231F20"/>
                                <path d="M197.5 255H217.5V240H205V207.5H190V247.5C190 251.642 193.358 255 197.5 255Z" fill="#231F20"/>
                            </svg>

                        </div>
                    </div>
                </div> <!-- END OF CARD -->
            </a>
        </div> <!-- END OF COL-LG-2 --> 
        <?php } ?>
        <?php  if(in_array( $Gate['VIEW_PD_PRODUCTION_REPORT'] , $_SESSION['ACCESS_LIST']  )) { ?>
        <div class="col-sm-6 col-md-3 col-lg-2 col-xl-2 col-xs-12">
            <div class="card shadow-lg" style="border:2px solid #04009A;" title = "Generate Reports"   >
                <div class="card-body d-flex justify-content-between align-items-center" >
                    <div>
                        <h4 class = "m-0 p-0">Production Reports</h4>
                    </div>
                    <div class = "">
                        <svg width="50" height="50" viewBox="0 0 220 251" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M109.5 183.8C77.4 183.8 51.2 157.6 51.2 125.5C51.2 97.1 71.2 73.3 98.6 68.2V57.9C65.5 63.1 41 91.5 41 125.5C41 163.2 71.7 194 109.5 194C143.5 194 171.9 169.5 177.1 136.4H166.8C161.6 163.7 137.9 183.8 109.5 183.8Z" fill="#04009A"/>
                            <path d="M116.5 57.4L110.9 56.8V124.1H178.2L177.6 118.5C174.4 86.4 148.6 60.6 116.5 57.4ZM121 114V68.4C143.9 73 162 91.1 166.6 114H121Z" fill="#04009A"/>
                            <path d="M219.3 202.3L219.2 193.7C219.2 160.9 219.3 67 219.2 26C219.2 11.2 207.7 0 192.7 0H131.1H108.2C81.9 0 54.7 0 28 0C20.8 0 13.6 3.1 8.2 8.6C2.9 13.9 0 20.9 0 28.2C0.2 86.3 0.2 123.5 0.1 170.6V221.5C0.1 229.4 3.1 236.8 8.6 242.3C14.1 247.8 21.5 250.8 29.4 250.8H114C140.1 250.8 166.8 250.8 193.2 250.7C196.1 250.7 199 250.2 201.5 249.4C212 245.8 219.2 235.7 219.4 224.4C219.3 217 219.3 209.5 219.3 202.3ZM209 224.2C208.9 231.2 204.5 237.5 198 239.7C196.6 240.2 194.9 240.5 193 240.5C166.7 240.6 140 240.6 113.8 240.6H29.2C24 240.6 19.1 238.7 15.6 235.1C12.1 231.6 10.1 226.8 10.1 221.6V170.7C10.1 123.6 10.2 86.4 10 28.3C10 23.7 11.8 19.3 15.2 15.9C18.7 12.4 23.3 10.4 27.8 10.4C54.5 10.4 81.7 10.4 108 10.4H130.9H192.5C202.1 10.4 208.8 16.9 208.8 26.2C208.9 67.1 208.8 161.1 208.8 193.9L208.9 202.5C209.1 209.5 209.1 216.9 209 224.2Z" fill="#04009A"/>
                        </svg>
                    </div>
                </div>
            </div> <!-- END OF CARD -->
        </div> <!-- END OF COL-LG-2 --> 
        <?php } ?>
        <?php  if(in_array( $Gate['VIEW_PD_RENTED_CARTON'] , $_SESSION['ACCESS_LIST']  )) { ?>
        <div class="col-sm-6 col-md-3 col-lg-2 col-xl-2 col-xs-12">
            <a href="Rent.php" style = "text-decoration:none;">
                <div class="card shadow-lg" style="border:2px solid #C69666;" title = "Generate Reports"   >
                    <div class="card-body d-flex justify-content-between align-items-center" >
                        <div>
                            <h4 class = "m-0 p-0" style = "color:#C69666" > Rented Cartons</h4>
                        </div>
                        <div class = "">
                            <svg width="50" height="50" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M211.772 239.087C215.569 237.065 218.795 234.539 221.423 231.509C226.125 226.133 228.497 219.733 228.497 212.522C228.497 207.65 227.371 203.195 225.195 199.338C223.045 195.549 220.092 192.392 216.397 189.9C212.949 187.579 208.896 185.804 204.399 184.635C200.124 183.526 195.396 182.962 190.421 182.962H162.696V277.827H186.845V245.24L213.247 277.829H243.822L211.772 239.087ZM203.375 216.9C202.65 218.129 201.626 219.11 200.226 219.963C198.673 220.91 196.727 221.661 194.423 222.173C192.051 222.685 189.525 222.958 186.845 223.009V204.876H190.292C192.494 204.876 194.67 205.098 196.692 205.524C198.467 205.908 200.046 206.497 201.343 207.273C202.29 207.819 203.041 208.562 203.596 209.475C204.099 210.303 204.347 211.412 204.347 212.777C204.348 214.494 204.023 215.825 203.375 216.9Z" fill="#C69666"/>
                                <path d="M270.899 255.787V240.486H303.795V218.453H270.899V205.005H305.271V182.963H246.741V277.828H305.647V255.787H270.899Z" fill="#C69666"/>
                                <path d="M370.466 182.963V233.805L334.217 182.963H313.668V277.828H337.323V226.987L373.572 277.828H394.121V182.963H370.466Z" fill="#C69666"/>
                                <path d="M401.041 182.963V205.005H425.199V277.828H449.348V205.005H473.498V182.963H401.041Z" fill="#C69666"/>
                                <path d="M512 64V38.4H64V0H38.4V38.4H0V64H38.4V486.4H12.8C5.726 486.4 0 492.126 0 499.2C0 506.274 5.726 512 12.8 512H89.6C96.674 512 102.4 506.274 102.4 499.2C102.4 492.126 96.674 486.4 89.6 486.4H64V64H153.591V102.4H128C113.86 102.4 102.4 113.86 102.4 128V332.8C102.4 346.94 113.86 358.4 128 358.4H486.4C500.54 358.4 512 346.94 512 332.8V128C512 113.86 500.54 102.4 486.4 102.4H460.8V64H512ZM179.191 64H435.2V102.4H179.191V64ZM486.4 128V332.8H128V128H486.4Z" fill="#C69666"/>
                            </svg>
                        </div>
                    </div>
                </div> <!-- END OF CARD -->
            </a>
        </div> <!-- END OF COL-LG-2 --> 
        <?php } ?>
    </div> <!-- END OF ROW -->
</div><!-- END OF M-3  -->


<div class = "m-3">
    <div class="row">
    
        <?php  if(in_array( $Gate['VIEW_PD_CHART_1'] , $_SESSION['ACCESS_LIST']  )) { ?>
        <div class="col-lg-6 col-sm-12 col-md-6 ">
            <div class="card shadow">
                <div class="card-body">
                    <div><canvas id="myChart"></canvas></div>
                </div>
            </div>
        </div>
        <?php } ?>
        <?php  if(in_array( $Gate['VIEW_PD_CHART_2'] , $_SESSION['ACCESS_LIST']  )) { ?>
        <div class="col-lg-6 col-sm-12 col-md-6 ">
            <div class="card shadow">
                <div class="card-body">
                    <div><canvas id="myChart1"></canvas></div>
                </div>
            </div>
        </div>
        <?php } ?>
    </div>
</div><!-- END OF M-3  -->
<script>

    let c5p  = <?php if($C5P_machine['C5P_Production'] == NULL) echo 0 ; else $C5P_machine['C5P_Production'];   ?> ; 
    var xValues = ["Carrogation 5P", "Carrogation 3P", "Flexo 1", " Flexo 2", "Glue Folder 1" , "Glue Folder 2" , '4 Khat'];
    var yValues = [c5p, 8000300, 2500000, 7000000, 6000000 , 3400000, 7700000];
    const labels = xValues;

    const data = {
        labels: labels,
        datasets: [{
        label: 'Machines Production Chart',
        data: yValues,
        backgroundColor: [
            'rgba(255, 99, 132, 0.2)',
            'rgba(255, 159, 64, 0.2)',
            'rgba(255, 205, 86, 0.2)',
            'rgba(75, 192, 192, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(153, 102, 255, 0.2)',
            'rgba(201, 203, 207, 0.2)',
            'rgba(153, 102, 255, 0.2)',
            'rgba(201, 203, 207, 0.2)'
        ],
        borderColor: [
            'rgb(255, 99, 132)',
            'rgb(255, 159, 64)',
            'rgb(255, 205, 86)',
            'rgb(75, 192, 192)',
            'rgb(54, 162, 235)',
            'rgb(153, 102, 255)',
            'rgb(201, 203, 207)',
            'rgb(153, 102, 255)',
            'rgb(201, 203, 207)'
        ],
        borderWidth: 2
        }]
    };

    const config = {
        type: 'bar',
        data: data,
        options: {
        scales: {
            y: {
            beginAtZero: true
            }
        }  
        },
    };

    var myChart = new Chart( document.getElementById('myChart'), config );


    var xValues = [100,200,300,400,500,600,700,800,900,1000];
    new Chart("myChart1", {
    type: "line",
    data: {
        labels: xValues,
        datasets: [{
        data: [500,1140,1060,1060,1070,1110,1330,2210,7830,2478],
        borderColor: "red",
        fill: false
        },{
        data: [1600,1700,1700,1900,2000,2700,4000,5000,6000,7000],
        borderColor: "green",
        fill: false
        },{
        data: [300,700,2000,5000,6000,4000,2000,1000,200,100],
        borderColor: "blue",
        fill: false
        }]
    },
    options: {
        legend: {display: false}
    }
    });

</script>
<?php  require_once '../App/partials/Footer.inc'; ?>